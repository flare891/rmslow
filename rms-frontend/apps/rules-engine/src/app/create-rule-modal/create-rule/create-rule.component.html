<div class="body" fxLayout="row" fxLayoutAlign="start">
  <div class="left" fxLayout="column" fxLayoutAlign="space-between start">
    <div>
      <form>
        <mat-form-field class="full-width">
          <mat-label>Name</mat-label>
          <input matInput required>
        </mat-form-field>
        <mat-form-field class="full-width">
          <mat-label>Description</mat-label>
          <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="5" cdkAutosizeMaxRows="10" required></textarea>
        </mat-form-field>
        <mat-form-field class="full-width">
          <mat-label>Record System</mat-label>
          <mat-select matNativeControl required>
            <mat-option value="guide://1111-1111-1111">Google</mat-option>
            <mat-option value="guide://2222-2222-2222">Amazon</mat-option>
            <mat-option value="guide://3333-3333-3333">Microsoft</mat-option>
            <mat-option value="guide://4444-4444-4444">SpaceX</mat-option>
          </mat-select>
        </mat-form-field>
      </form>
      <p class="full-width">Priority: LAST</p>
      <p class="full-width">Active: FALSE</p>
    </div>
    <span fxFlex="1 1 auto"></span>
    <button mat-raised-button (click)="saveForm()" color="accent">
      <mat-icon>save</mat-icon>
      Save Rule
    </button>
  </div>
  <div class="middle" fxLayout="column" fxFlex="start">
    <div class="build-top">
      <h2>Build Rule</h2>
    </div>
    <div class="build-bottom" fxLayout="column" fxLayoutAlign="start stretch">
      <mat-card class="card">
        <mat-card-header>
          <mat-card-title>Conditions</mat-card-title>
          <mat-card-subtitle>Add at least one condition</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <rms-frontend-rule-build-piece [conditionType]="true" (contentChange)="setConditionState($event)"></rms-frontend-rule-build-piece>
        </mat-card-content>
      </mat-card>
      <mat-card class="card">
        <mat-card-header>
          <mat-card-title>Actions</mat-card-title>
          <mat-card-subtitle>Add at least one action</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <rms-frontend-rule-build-piece [conditionType]="false" (contentChange)="setActionState($event)"></rms-frontend-rule-build-piece>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
  <div class="right">
    <h2>Rule Output</h2>
    <h3><b>When a messages arrives</b></h3>
    <span innerHtml="{{rulesText$ | async}}"></span>
  </div>
</div>
